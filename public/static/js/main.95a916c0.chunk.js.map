{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/Card.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Main","props","currentUser","useContext","avatar","type","onClick","onEditAvatar","name","onEditProfile","about","onAddPlace","cardList","Footer","PopupWithForm","isOpen","onClose","title","onSubmit","children","buttonText","ImagePopup","card","openCard","link","Card","isOwn","owner","_id","isLiked","likes","some","onCardDelete","onCardClick","onCardLike","length","EditProfilePopup","useState","setName","description","setDescription","useEffect","evt","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","onChange","target","value","EditAvatarPopup","avatarRef","createRef","onUpdateAvatar","current","ref","AddPlacePopup","nameRef","linkRef","api","options","this","_options","result","ok","json","Promise","reject","status","statusText","fetch","baseUrl","headers","then","res","_checkResponse","item","method","body","JSON","stringify","info","button","isLoad","_buttonText","textContent","authorization","App","isEditProfilePopupOpen","openEditProfile","isAddPlacePopupOpen","openAddPlace","isEditAvatarPopupOpen","openEditAvatar","cards","setCardsArray","setUserInfo","selectedCard","handleCardClick","handleCardLike","changeLikeCardStatus","newCard","newCards","map","c","catch","err","console","log","handleCardDelete","deleteCard","filter","closeAllPopups","getInitialCards","getUserInfo","userInfo","Provider","addNewCard","setAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.95a916c0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.a307e1c4.svg\";","import logo from '../images/logo.svg';\n\nexport default function Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} className=\"header__logo\" alt=\"Логотип Mesto Russia\" />\n    </header>\n  )\n}\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <img className=\"profile__avatar\" alt=\"Аватар профиля\" src={currentUser.avatar} />\n        <button className=\"profile__avatar-button\" type=\"button\" onClick = {() => props.onEditAvatar(true)}></button>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"profile__edit-button\" type=\"button\" onClick = {() => props.onEditProfile(true)}></button>\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button className=\"add-button\" type=\"button\" onClick = {() => props.onAddPlace(true)}></button>\n      </section>\n      <section className=\"cards\">\n        <ul className =\"elements\">\n          {props.cardList}\n        </ul>\n      </section>\n    </main>\n  )\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n","export default function PopupWithForm(props) {\n  return (\n    <section className={`popup ${props.name} ${props.isOpen && `popup_opened`}`}>\n    <div className=\"popup__container\">\n      <button className=\"popup__close-button popup__close-button_edit\" type=\"button\" onClick = {props.onClose}></button>\n      <h3 className=\"popup__header\">\n        {props.title}\n      </h3>\n      <form className=\"popup__form popup__form_edit\" name={props.name} onSubmit={props.onSubmit} >\n        {props.children}\n        <button type=\"submit\" className=\"popup__save-button\">{props.buttonText}</button>\n      </form>\n    </div>\n    </section>\n  )\n}\n","export default function ImagePopup(props) {\n  return (\n    <section className= {`popup popup_full-image ${props.card.isOpen && `popup_opened`}`}>\n      <div className=\"popup__card\">\n        <button className=\"popup__close-button popup__close-button_image\" type=\"button\" onClick = {props.onClose}></button>\n        <img className=\"popup__card-image\" alt={props.card.openCard.name} src={props.card.openCard.link} />\n        <h2 className=\"popup__card-title\">{props.card.openCard.name}</h2>\n      </div>\n    </section>\n  )\n}\n","import React from 'react';\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner._id === currentUser._id;\n  const isLiked = props.card.likes.some(owner => owner._id === currentUser._id);\n\n  return (\n    <li className=\"element\">\n      <button type=\"button\" className={`element__delete-button ${!isOwn && `element__delete-button_invisible`}`}\n      onClick={() => props.onCardDelete(props.card)}></button>\n      <img className=\"element__image\" src = {props.card.link} alt = {props.card.name} onClick = {() => {\n        props.onCardClick({\n        openCard: props.card,\n        isOpen: true\n        })\n      }} />\n      <div className=\"element__info\">\n        <h2 className=\"element__title\">{props.card.name}</h2>\n        <div className=\"element__like\">\n          <button className={`element__like-button ${isLiked && `element__like-button_active`}`} type=\"button\"\n          onClick={() => props.onCardLike(props.card)}></button>\n          <p className=\"element__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from 'react';\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nexport default function EditProfilePopup(props) {\n  const [name, setName] = React.useState(\"\");\n  const [description, setDescription] = React.useState(\"\");\n  const currentUser = React.useContext(CurrentUserContext);\n\n  React.useEffect(() => {\n      setName(currentUser.name);\n      setDescription(currentUser.about);\n  }, [currentUser]);\n\n  return (<PopupWithForm name = \"popup_edit\" title = \"Редактировать профиль\" isOpen = {props.isOpen}\n  onClose = {props.onClose} buttonText = \"Сохранить\" onSubmit={(evt) => {\n    evt.preventDefault();\n\n    props.onUpdateUser({\n      name: name,\n      about: description,\n    });\n  }}>\n        <input id=\"input-name\" type=\"text\" placeholder=\"Введите Ваше имя\" className=\"popup__input popup__input_name\"\n        name=\"name\" minLength={2} maxLength={40} required onChange={(evt) => setName(evt.target.value)} value={name} />\n        <span id=\"input-name-error\" className=\"popup__input_error\"></span>\n        <input id=\"input-job\" type=\"text\" placeholder=\"Введите Вашу профессию\" className=\"popup__input popup__input_job\"\n        name=\"job\"minLength={2} maxLength={200} required onChange={(evt) => setDescription(evt.target.value)} value={description} />\n        <span id=\"input-job-error\" className=\"popup__input_error\"></span>\n  </PopupWithForm>)\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from 'react';\n\nexport default function EditAvatarPopup(props) {\n  const avatarRef = React.createRef();\n\n  return (\n    <PopupWithForm name = \"popup__edit-avatar\" title = \"Обновить аватар\" isOpen = {props.isOpen}\n    onClose = {props.onClose} buttonText = \"Сохранить\" onSubmit={(evt) => {\n      evt.preventDefault();\n\n      props.onUpdateAvatar({\n        link: avatarRef.current.value,\n      })\n    }}>\n      <input id=\"input-src\" type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_src\"\n      name=\"link\" required ref={avatarRef} />\n      <span id=\"input-src-error\" className=\"popup__input_error\"></span>\n    </PopupWithForm>\n  )\n}\n","import PopupWithForm from \"./PopupWithForm\";\nimport React from \"react\";\n\nexport default function AddPlacePopup(props) {\n  const nameRef = React.createRef();\n  const linkRef = React.createRef();\n\n  return (\n    <PopupWithForm name = \"popup_add-card\" title = \"Новое место\" isOpen = {props.isOpen}\n    onClose = {props.onClose} buttonText = \"Создать\" onSubmit={(evt) => {\n      evt.preventDefault();\n\n      props.onAddPlace({\n        name: nameRef.current.value,\n        link: linkRef.current.value\n      })\n    }} >\n      <input id=\"input-title\" type=\"text\" placeholder=\"Название\" className=\"popup__input popup__input_title\"\n      name=\"name\" minLength={2} maxLength={30} required ref={nameRef} />\n      <span id=\"input-title-error\" className=\"popup__input_error\"></span>\n      <input id=\"input-src\" type=\"url\" placeholder=\"Ссылка на картинку\" className=\"popup__input popup__input_src\"\n      name=\"link\" required ref={linkRef} />\n      <span id=\"input-src-error\" className=\"popup__input_error\"></span>\n    </PopupWithForm>\n  )\n}\n","class Api {\n  constructor(options) {\n    this._options = options;\n  }\n\n  _checkResponse(result) {\n    if (result.ok) {\n      return result.json();\n    }\n    return Promise.reject(`Произошла ошибка: ${result.status}:${result.statusText}`)\n  }\n\n  getUserInfo() {\n    return fetch(this._options.baseUrl + \"/users/me\", {\n      headers: this._options.headers\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  setUserInfo(item) {\n    return fetch(this._options.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this._options.headers,\n      body: JSON.stringify({\n        name: item.name,\n        about: item.about\n      })\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  setAvatar(item) {\n    return fetch(this._options.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this._options.headers,\n      body: JSON.stringify({\n        avatar: item.link\n      })\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  getInitialCards() {\n    return fetch(this._options.baseUrl + \"/cards\", {\n      headers: this._options.headers\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  addNewCard(info) {\n    return fetch(this._options.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this._options.headers,\n      body: JSON.stringify({\n        name: info.name,\n        link: info.link\n      })\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  deleteCard(id) {\n    return fetch(this._options.baseUrl + \"/cards/\" + id, {\n      method: \"DELETE\",\n      headers: this._options.headers\n    })\n    .then((res) => this._checkResponse(res))\n  };\n\n  changeLikeCardStatus(id, isLiked) {\n    if (isLiked) {\n      return fetch(this._options.baseUrl + \"/cards/likes/\" + id, {\n        method: \"PUT\",\n        headers: this._options.headers\n      })\n      .then((res) => this._checkResponse(res))\n    } else {\n      return fetch(this._options.baseUrl + \"/cards/likes/\" + id, {\n        method: \"DELETE\",\n        headers: this._options.headers\n      })\n      .then((res) => this._checkResponse(res))\n    }\n  }\n\n  isLoading(button, isLoad) {\n    if(isLoad) {\n      this._buttonText = button.textContent;\n      button.textContent = \"Сохранение...\";\n    } else {\n      button.textContent = this._buttonText;\n    }\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://mesto.nomoreparties.co/v1/cohort-17\",\n  headers: {\n    authorization: \"761b2eed-9b1d-4590-81a1-cb393f952eaa\",\n    'Content-Type': 'application/json'\n  }\n});\n","import React from 'react';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport ImagePopup from \"./ImagePopup\";\nimport Card from \"./Card\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport {api} from \"../utils/api\";\nimport {CurrentUserContext} from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, openEditProfile] = React.useState(false);\n  const [isAddPlacePopupOpen, openAddPlace] = React.useState(false);\n  const [isEditAvatarPopupOpen, openEditAvatar] = React.useState(false);\n  const [cards, setCardsArray] = React.useState([]);\n  const [currentUser, setUserInfo] = React.useState({\n    name: \"\",\n    about: \"\"\n  });\n  const [selectedCard, handleCardClick] = React.useState({\n    openCard: {},\n    isOpen: false\n  });\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some(owner => owner._id === currentUser._id);\n    api.changeLikeCardStatus(card._id, !isLiked)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCardsArray(newCards);\n    })\n    .catch((err) => console.log(err))\n  };\n\n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n    .then(() => setCardsArray(cards.filter((c) => {\n      return c._id !== card._id;\n    })))\n    .catch((err) => console.log(err))\n  };\n\n  const handleUpdateUser = (item) => {\n    api.setUserInfo(item)\n    .then((userInfo) => {\n      setUserInfo(userInfo);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n  };\n\n  const handleUpdateAvatar = (item) => {\n    api.setAvatar(item)\n    .then((userInfo) => {\n      setUserInfo(userInfo);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n  };\n\n  const handleAddPlaceSubmit = (item) => {\n    api.addNewCard(item)\n    .then((newCard) => {\n      setCardsArray([newCard, ...cards]);\n      closeAllPopups();\n    })\n    .catch((err) => console.log(err));\n  };\n\n  const closeAllPopups = () => {\n    openEditProfile(false);\n    openAddPlace(false);\n    openEditAvatar(false);\n    handleCardClick({\n      openCard: {},\n      isOpen: false\n    });\n  };\n\n  React.useEffect(() => {\n    api.getInitialCards()\n    .then((cards) => setCardsArray(cards))\n    .catch((err) => console.log(err))\n  }, []);\n\n  React.useEffect(() => {\n    api.getUserInfo()\n    .then((userInfo) => {\n      setUserInfo(userInfo)\n    })\n    .catch((err) => console.log(err))\n  }, []);\n\n  return (\n  <CurrentUserContext.Provider value={currentUser}>\n  <div className=\"page\">\n    <Header />\n    <Main onEditProfile = {openEditProfile} onAddPlace = {openAddPlace} onEditAvatar = {openEditAvatar}\n    cardList = {cards.map((card) => <Card card = {card} onCardClick = {handleCardClick}\n    key = {card._id} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />)} />\n    <Footer />\n  </div>\n  <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n  <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit} />\n  <PopupWithForm name = \"popup_delete-card\" title = \"Вы уверены?\" onClose = {closeAllPopups} buttonText = \"Да\" />\n  <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n  <ImagePopup card = {selectedCard} onClose = {closeAllPopups} />\n  </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}